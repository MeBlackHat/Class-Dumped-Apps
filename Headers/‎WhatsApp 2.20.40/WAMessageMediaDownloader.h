//
//     Generated by class-dump 3.5 (64 bit) (Debug version compiled Sep 17 2017 16:24:48).
//
//     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2015 by Steve Nygard.
//

#import <objc/NSObject.h>

#import "WAMediaDownloadPolicyDelegate-Protocol.h"
#import "WAMediaDownloaderSuspendable-Protocol.h"
#import "WARegularMediaDownloadManagerDelegate-Protocol.h"
#import "WAStreamingMediaLoaderManagerDownloadDelegate-Protocol.h"

@class NSMutableDictionary, NSMutableOrderedSet, NSOperationQueue, NSString, WAChatStorage, WAIPCReceiver, WAMediaDownloadPolicy, WANetworkUsageManager, WANetworkUsageMetricsManager, WARegularMediaDownloadManager, WAStreamingMediaLoaderManager, XMPPConnection;

@interface WAMessageMediaDownloader : NSObject <WAMediaDownloadPolicyDelegate, WARegularMediaDownloadManagerDelegate, WAStreamingMediaLoaderManagerDownloadDelegate, WAMediaDownloaderSuspendable>
{
    WANetworkUsageManager *_networkUsageManager;
    WANetworkUsageMetricsManager *_networkUsageMetricsManager;
    NSMutableOrderedSet *_pendingAutodownloadUniqueKeys;
    NSMutableDictionary *_pendingIncomingAutodownloadUniqueKeysToMessages;
    NSMutableDictionary *_pendingOutgoingAutodownloadUniqueKeysToMessages;
    WARegularMediaDownloadManager *_regularMediaDownloadManager;
    NSOperationQueue *_backgroundSerialOperationQueue;
    WAIPCReceiver *_notificationExtensionReceiver;
    unsigned long long _contentExtensionMergeState;
    WAChatStorage *_chatStorage;
    XMPPConnection *_xmppConnection;
    WAStreamingMediaLoaderManager *_streamingMediaLoaderManager;
    WAMediaDownloadPolicy *_policy;
}

@property(readonly, nonatomic) WAMediaDownloadPolicy *policy; // @synthesize policy=_policy;
@property(readonly, nonatomic) WAStreamingMediaLoaderManager *streamingMediaLoaderManager; // @synthesize streamingMediaLoaderManager=_streamingMediaLoaderManager;
@property(readonly, nonatomic) XMPPConnection *xmppConnection; // @synthesize xmppConnection=_xmppConnection;
@property(readonly, nonatomic) WAChatStorage *chatStorage; // @synthesize chatStorage=_chatStorage;
- (void).cxx_destruct;
- (void)submitInsufficientSpaceAutoDownloadEventForMessage:(id)arg1;
- (void)regularMediaDownloader:(id)arg1 didFinishDownloadingThumbnailForMessage:(id)arg2;
- (void)regularMediaDownloader:(id)arg1 didUpdateProgressOfMessage:(id)arg2;
- (void)regularMediaDownloader:(id)arg1 didFinishDownloadingMediaInMessage:(id)arg2 toRelativePath:(id)arg3;
- (void)regularMediaDownloader:(id)arg1 didFailToDownloadMediaInMessage:(id)arg2 presentAlert:(_Bool)arg3 error:(id)arg4;
- (void)regularMediaDownloader:(id)arg1 didUpdateTemporaryMediaForMessage:(id)arg2 inPath:(id)arg3;
- (void)xmppConnectionStateDidChange:(id)arg1;
- (void)notificationExtensionDidSendMessage:(id)arg1;
- (void)finishContentExtensionMergeForMessageKeys:(id)arg1 processedMessageKeys:(id)arg2;
- (void)sendNotificationExtensionPlayedPTTReceipts:(id)arg1;
- (id)processContentExtensionMerge:(CDStruct_d10438cc)arg1;
- (_Bool)prepareContentExtensionPreMerge:(CDStruct_d10438cc *)arg1;
- (void)processContentExtensionInbox;
- (void)removeFromAutodownloadQueue:(id)arg1;
- (void)addToAutodownloadQueue:(id)arg1 saveToKVS:(_Bool)arg2;
- (void)processPendingAutodownloads;
- (void)loadDeferredObjects;
- (void)streamingMediaLoaderManager:(id)arg1 didUpdateDownloadProgress:(id)arg2 inMessage:(id)arg3;
- (void)streamingMediaLoaderManager:(id)arg1 didFailToDownloadMediaInMessage:(id)arg2 presentAlert:(_Bool)arg3 error:(id)arg4;
- (void)streamingMediaLoaderManager:(id)arg1 didFinishAggressivelyPrefetchingMediaInMessage:(id)arg2;
- (void)streamingMediaLoaderManager:(id)arg1 didFinishDownloadingMediaInMessage:(id)arg2 toRelativePath:(id)arg3;
- (void)streamingMediaLoaderManager:(id)arg1 didBeginDownloadingMediaInMessage:(id)arg2 currentProgress:(id)arg3;
- (void)endSuspendingDownloadsForReason:(unsigned long long)arg1;
- (void)beginSuspendingDownloadsForReason:(unsigned long long)arg1;
- (void)didUpdateStreamingProgress:(id)arg1 ofMessage:(id)arg2;
- (void)didUpdateProgressOfMessage:(id)arg1;
- (void)didFailToDownloadMediaInMessage:(id)arg1 presentAlert:(_Bool)arg2 error:(id)arg3;
- (void)didFinishDownloadingMediaInMessage:(id)arg1 toRelativePath:(id)arg2;
- (_Bool)isDownloadingMediaInMessage:(id)arg1;
- (float)progressOfMediaDownloadForMessage:(id)arg1;
- (void)cancelMediaDownloadForMessage:(id)arg1 userInitiated:(_Bool)arg2;
- (void)cancelAllDownloads;
- (void)updateMessage:(id)arg1 withMediaAtRelativePath:(id)arg2 notify:(_Bool)arg3;
- (id)attachToLocalMediaIfPossibleForMessage:(id)arg1 notify:(_Bool)arg2;
- (void)queueMediaDownloadForMessage:(id)arg1 mode:(unsigned long long)arg2 requestLengthType:(long long)arg3;
- (void)queueThumbnailDownloadForMessage:(id)arg1;
- (void)queueMediaDownloadForMessage:(id)arg1 mode:(unsigned long long)arg2;
- (void)queueMediaDownloadForMessage:(id)arg1;
- (id)playerItemForMessageFNF:(id)arg1;
- (id)playerItemForMessage:(id)arg1;
- (void)handleMediaDownloadForExternalMessage:(id)arg1;
- (void)reloadMediaDownloadPolicy;
- (void)registerDailyStatsCallback:(id)arg1;
- (void)mediaDownloadPolicyDidRequestSave:(id)arg1;
- (id)existingOrNewDownloadPolicy;
- (id)initWithChatStorage:(id)arg1 xmppConnection:(id)arg2 streamingMediaLoaderManager:(id)arg3 mmsTaskSessionV4:(id)arg4 mmsTaskSessionV3:(id)arg5 networkUsageManager:(id)arg6 networkUsageMetricsManager:(id)arg7;

// Remaining properties
@property(readonly, copy) NSString *debugDescription;
@property(readonly, copy) NSString *description;
@property(readonly) unsigned long long hash;
@property(readonly) Class superclass;

@end

